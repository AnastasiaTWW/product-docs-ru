# Сборка и обновление правил фильтрации

Для анализа запросов и распознавания атак WAF‑нода использует файл ЛОМ (Локальное Обучающее Множество), в котором специальным образом компилируются правила из профиля приложений. Данные в ЛОМе специальным образом оптимизированы для ускорения анализа запросов.

!!! warning "Любые изменения в правилах применяются для анализа запросов не моментально"
    Изменения применяются через через некоторое время, необходимое на:
    
    * сборку (компиляцию) ЛОМа;
    * выгрузку обновленной версии ЛОМа из облака всеми WAF‑нодами.

Процесс сборки ЛОМа занимает от нескольких минут для простых приложений до одного часа для ресурсов со сложной структурой. Возможность отслеживать статус сборки ЛОМа находится в разработке и в данный момент недоступна. Однако косвенно можно ориентироваться на факт выгрузки ЛОМа на WAF‑ноды. Эта информация для каждой WAF‑ноды отображается в разделе *Ноды*.

Выгрузка ЛОМа на WAF‑ноды происходит в рамках синхронизации WAF‑ноды с Облаком Валарм. Этот процесс запускается раз в 10‑15 минут. [Подробнее о настройке синхронизации WAF‑ноды с Облаком Валарм →](../../admin-ru/configure-cloud-node-synchronization-ru.md)

Вы можете просмотреть статус выгрузки ЛОМа в лог‑файле `/var/log/wallarm/syncnode.log`.
