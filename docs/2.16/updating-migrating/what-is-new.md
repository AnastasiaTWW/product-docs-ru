[link-grpc-docs]:       https://grpc.io/
[link-http2-docs]:      https://developers.google.com/web/fundamentals/performance/http2
[link-protobuf-docs]:   https://developers.google.com/protocol-buffers/

# Что нового в WAF‑ноде 2.16

## Критическое изменение

Начиная с образа WAF‑ноды 2.16.0-8, переменная `WALLARM_ACL_ENABLE` для [Docker-контейнера на основе NGINX](../admin-ru/installation-docker-ru.md#запуск-контейнера-с-переменными-окружения) принимает только значения `true` и `false`.

!!! warning "Значения `on` / `enabled` / `ok` / `yes`"
    Значения `on` / `enabled` / `ok` / `yes` переменной `WALLARM_ACL_ENABLE` отключают блокировку по IP‑адресам. Мы рекомендуем использовать последнюю версию образа, указанную в [инструкции по запуску Docker-контейнера](../admin-ru/installation-docker-ru.md), и передавать в переменной значение `true` или `false`.

## Изменения в поддерживаемых платформах

* Прекращена поддержка операционной системы CentOS 6.x
* Прекращена поддержка облачной платформы Heroku
* Прекращена поддержка операционной системы Debian 8.x (jessie-backports)
* Добавлена поддержка CentOS 8.x
* Добавлена поддержка Envoy
* Добавлена поддержка Яндекс.Облака

Список всех платформ, доступных для установки WAF‑ноды версии 2.16, доступен по [ссылке](../admin-ru/supported-platforms.md).

## Новые возможности продукта

* [Отображение версий](../user-guides/nodes/regular-node.md#просмотр-информации-о-wafноде) установленных компонентов WAF‑ноды, модулей NGINX-WAF и Envoy-WAF в Консоли управления
* Новая директива [`wallarm_enable_libdtection`](../admin-ru/configure-parameters-ru.md#wallarm_enable_libdetection) для снижения количества ложных срабатываний за счет дополнительной валидации атак по улучшенным алгоритмам

    !!! warning "Увеличение в количестве потребляемой памяти"
        При анализе атак с помощью библиотеки libdetection возможно увеличение объема памяти, потребляемой процессами NGINX и Валарм, примерно на 10%.
* Возможность добавить или изменить заголовок NGINX `Server`. Для настройки необходимо добавить соответствующее правило в профиль приложения. Чтобы добавить правило, пожалуйста, свяжитесь с нашей [технической поддержкой](mailto:support@wallarm.ru)
* Новые параметры статистики WAF‑ноды:
    * `db_apply_time`: Unix‑время последнего обновления файла proton.db
    * `lom_apply_time`: Unix‑время последнего обновления файла [ЛОМ](../glossary-ru.md#лом)
    * `ts_files`: объект с информацией о файле [ЛОМ](../glossary-ru.md#лом)
    * `db_files`: объект с информацией о файле proton.db
    * `overlimits_time`: количество атак типа [Превышение лимита вычислительных ресурсов](../attacks-vulns-list.md#превышение-лимита-вычислительных-ресурсов), обнаруженных WAF‑нодой

    Список всех параметров сервиса статистики доступен по [ссылке](../admin-ru/configure-statistics-service.md#работа-с-сервисом-статистики).
<!-- * [Пример кода Terraform](../admin-ru/installation-guides/amazon-cloud/deploy-waf-via-terraform/deploy-waf-via-terraform-intro.md) для установки WAF‑ноды в публичное облако AWS -->
* Установка WAF‑ноды в форме [sidecar‑контейнера Kubernetes](../admin-ru/installation-guides/kubernetes/wallarm-sidecar-container.md)
* Ускорение сборки ЛОМа в 5‑10 раз. Теперь для генерации правил безопасности используется более оптимизированный процесс. Вы можете ознакомиться с деталями оптимизации в [отдельном посте на нашем новостном портале](https://changelog.wallarm.ru/генерация-правил-безопасности-5x-быстрее-152573)
* Снижение стандартного интервала для синхронизации WAF‑ноды и Облака Валарм. Теперь стандартный интервал — 120 секунд. [Подробная информация о настройке синхронизации WAF‑ноды и Облака Валарм →](../admin-ru/configure-cloud-node-synchronization-ru.md)

## Процедура обновления

Для обновления WAF‑ноды рекомендуется ознакомиться с общими рекомендациями к процессу и перейти к инструкции по обновлению установленных модулей:

* [Общие рекомендации к обновлению WAF‑ноды](general-recommendations.md)
* [Обновление модулей NGINX, NGINX Plus, Kong](nginx-modules.md)
* [Обновление Docker‑контейнера с модулями для NGINX](docker-container.md)
* [Обновление Ingress‑контроллера NGINX с сервисами Валарм WAF](ingress-controller.md)
* [Обновление облачного образа WAF‑ноды](cloud-image.md)

----------

[Другие обновления в продуктах и компонентах Валарм →](https://changelog.wallarm.ru/)
