# Блокировка по IP‑адресам

В подавляющем большинстве случаев блокировка по запросам является более предпочтительным вариантом, чем блокировка по IP‑адресам. Тем не менее в ряде случаев необходимо использовать именно блокировку по IP‑адресам.

Такими случаями являются:

* Необходимость снизить нагрузку, создаваемую запросами атакующих;
* Обработка трафика в асинхронном режиме;
* Наличие дополнительных ресурсов, не находящихся под защитой WAF.

## Способы блокировки

В разных условиях могут быть предпочтительнее разные способы блокировки.

### Блокировка через веб‑интерфейс Валарм

Этот способ является интуитивно понятным, так как предоставляет пользователю удобное графическое представление для просмотра и изменения черного списка.

[Подробнее](../user-guides/blacklist.md)

### Блокировка на стороне NGINX

Этот способ позволяет настроить сообщение, которое увидит заблокированный пользователь. Однако, этот способ является наиболее ресурсоемким.

[Подробнее](configure-ip-blocking-nginx-ru.md).

### Блокировка с помощью iptables

Этот способ не позволяет настроить сообщение об ошибке, но меньше влияет на производительноcть сервера.

[Подробнее](configure-ip-blocking-iptables-ru.md).

### На внешнем файерволе

Этот способ не создает абсолютно никакой нагрузки на сервер, но требует самостоятельной интеграции с подсистемой черных списков.

!!! warning "Исключите блокировку IP‑адресов сканера Валарм"
    Обратите внимание, что если вы используете дополнительные средства (программные или аппаратные) для автоматической фильтрации и блокировки трафика, то для того, чтобы сканер Валарм мог беспрепятственно проверять ваши ресурсы на наличие уязвимостей, необходимо добавить IP‑адреса сканера в белый список соответствующего средства фильтрации.
    
    Список IP‑адресов сканера:
    
    * [для RU‑облака](scanner-address-ru-ru.md);
    * [для EU‑облака](scanner-address-ru.md).
