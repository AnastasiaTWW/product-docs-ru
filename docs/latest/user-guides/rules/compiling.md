# Сборка и выгрузка индивидуального набора правил

В индивидуальном наборе правил определяются особенности обработки трафика конкретного клиента: индивидуальные признаки атак, маскировка чувствительных данных и т.д. WAF-нода применяет индивидуальный набор правил при анализе входящих запросов.

Любые изменения в наборе правил применяются к процессу анализа запросов через некоторое время, только после **сборки** и **выгрузки на WAF-ноду**.

## Сборка индивидуального набора правил

Сборка всего набора правил запускается при [добавлении](add-rule.md), изменении или удалении правила в Консоли управления Валарм → **Правила**. При сборке правила оптимизируются и компилируются в формат, доступный WAF-ноде для чтения. Процесс сборки занимает от нескольких секунд для небольшого количества правил до одного часа для деревьев правил со сложной структурой.

Статус сборки индивидуального набора правил и ожидаемое время завершения отображаются в Консоли управления. Если в текущий момент сборка не выполняется, в интерфейсе отображается дата последней завершенной сборки.

![!Статус сборки правил](../../images/user-guides/rules/build-rules-status.png)

## Выгрузка индивидуального набора правил на WAF-ноду

Сборка набора правил выгружается на WAF-ноду в рамках синхронизации WAF‑ноды с Облаком Валарм. По умолчанию этот процесс запускается раз в 2‑4 минуты. [Подробнее о настройке синхронизации WAF‑ноды с Облаком Валарм →](../../admin-ru/configure-cloud-node-synchronization-ru.md)

Статус выгрузки индивидуального набора правил на WAF-ноду записывается в лог‑файл `/var/log/wallarm/syncnode.log`.
