[link-request-processing]:      request-processing.md
[link-rules-compiling]:         compiling.md

# Обзор правил профиля приложений

Во вкладке *Правила* вы можете просматривать и изменять правила обработки запросов, актуальные для текущего профиля приложений.

Профиль приложений представляет собой совокупность информации, известной системе о защищаемых приложениях и предназначен для тонкой настройки поведения в процессе анализа запросов и их дальнейшей обработки в модуле постаналитики и в облаке.

Для лучшего понимания того, как применяются правила обработки трафика, желательно ознакомиться с тем, как WAF‑нода [анализирует запросы][link-request-processing].

Важно понимать, что перед внесением изменений в правила и началом их действия может пройти время, в течение которого правила будут [компилироваться и выгружаться][link-rules-compiling] на WAF‑ноды.

## Терминология

#### Point

Каждый параметр HTTP запроса в системе Валарм описывается последовательностью применения фильтров обработки запроса, например, заголовки, тело, URL, Base64 и так далее. Эта последовательность называется *point*.

Фильтры обработки запроса также называется парсерами (от англ. parser).


#### Ветка правил
Набор параметров HTTP запроса и условий, при выполнении которых будут применяться правила, называется *веткой*.

Например, ветка правил `example.com/**/*.*` описывает условия, которым удовлетворяют любые запросы на любой URL домена `example.com`.

#### Эндпойнт (конечная ветка)
*Эндпойнтом* (от англ. application endpoint) называется ветка, в которой нет вложенных веток правил. В идеальном случае эндпойнт соответствует одной бизнес-функции защищаемого приложения. Например, бизнес-функция авторизации может быть конечной веткой правил `example.com/login.php`.


#### Правило
Настройка процесса обработки запроса на WAF‑ноде, в постаналитике или на стороне облака называется *правилом*.

Правила обработки привязываются к веткам или эндпойнтам. Правило будет применяться к запросу только тогда, когда запрос соответствует всем условиям, описанным в ветке.
