Переменная окружения | Описание | Обязательность
---- | ---- | -----
`DEPLOY_USER` | Email для аккаунта пользователя **Деплой** или **Администратор** в Консоли управления Валарм. | Да
`DEPLOY_PASSWORD` | Пароль для аккаунта пользователя **Деплой** или **Администратор** в Консоли управления Валарм. | Да
`NGINX_BACKEND` | Домен или IP‑адрес ресурса, который необходимо защитить с помощью WAF. | Да
`WALLARM_API_HOST` | Адрес Валарм API:<ul><li>`api.wallarm.com` для EU‑облака</li><li>`api.wallarm.ru` для RU‑облака</li></ul>По умолчанию: `api.wallarm.com`. | Нет
`WALLARM_MODE` | Режим работы WAF‑ноды:<ul><li>`block`, чтобы блокировать вредоносные запросы</li><li>`monitoring`, чтобы анализировать, но не блокировать запросы</li><li>`off`, чтобы не обрабатывать входящий трафик</li></ul>По умолчанию: `monitoring`. | Нет
`TARANTOOL_MEMORY_GB` | Размер [оперативной памяти][allocating-memory-guide] для Tarantool в гигабайтах. Значение может быть целым или дробным (разделитель целой и дробной части — точка). По умолчанию: 0.2 гигабайта. | Нет
`WALLARM_ACL_ENABLE` | Включает блокировку IP‑адресов с [настройками по умолчанию][default-ip-blocking-settings]. Принимает значения:<ul><li>`true`, чтобы включить блокировку</li><li>`false`, чтобы отключить блокировку</li></ul>По умолчанию (если переменная не указана явно): `false`.<br>Чтобы включить блокировку IP‑адресов с другими настройками, необходимо определить соответствующие [директивы][wallarm-acl-directive] NGINX и запустить контейнер с [примонтированным][mount-config-instr] конфигурационным файлом. <div class="admonition warning"> <p class="admonition-title">Значения `on` / `enabled` / `ok` / `yes`</p> <p>Начиная с образа WAF‑ноды 2.16.0-8, значения переменной `on` / `enabled` / `ok` / `yes` отключают блокировку по IP‑адресам. Мы рекомендуем использовать последнюю версию образа, указанную в данном документе, и передавать в переменной значение `true` или `false`.</div> | Нет 
`DEPLOY_FORCE` | Заменяет существующую WAF‑ноду на новую, если название WAF‑ноды соответствует идентификатору контейнера, который вы запускаете. Принимает значения:<ul><li>`true`, чтобы заменить WAF‑ноду</li><li>`false`, чтобы отключить замену WAF‑ноды</li></ul>По умолчанию (если переменная не указана явно): `false`.<br>WAF‑ноде Валарм присваивается название, соответствующее идентификатору контейнера. Данная опция полезна, если идентификаторы Docker‑контейнеров в вашей среде статичные и вы повторно запускаете Docker‑контейнер с WAF‑нодой Валарм (например, с новой версией образа). Если в этом случае значение переменной равно `false`, процесс создания WAF‑ноды завершится с ошибкой. | Нет
